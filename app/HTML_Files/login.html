<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillShare - Login & Sign Up</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>

<body>
    <!-- Background Decorations -->
    <div class="bg-decoration circle1"></div>
    <div class="bg-decoration circle2"></div>
    <div class="bg-decoration circle3"></div>

    <!-- Logo -->
    <div class="logo">SkillShare</div>

    <!-- Left Content -->
    <div class="left-content">
        <h1>Welcome to<br>SkillSwap</h1>
        <p>
            Join a vibrant community connecting generations through skill sharing.
            Discover new passions, mentor others, and build meaningful relationships across ages.
        </p>
    </div>

    <!-- Form Container -->
    <div class="form-container">
        <!-- Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('login')">Log In</button>
            <button class="tab" onclick="switchTab('signup')">Sign Up</button>
        </div>

        <!-- Login Form -->
        <div class="form-content">
            <div id="login-form" class="form-page active">
                <form action="{{ url_for('home.login_submit') }}" method="POST">
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" name="email" placeholder="Email Address" required>
                    </div>

                    <div class="form-group password">
                        <label>Password</label>
                        <input type="password" name="password" placeholder="Password" required>
                    </div>

                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox">
                            <span>Remember Me</span>
                        </label>
                        <a href="#" class="forgot-password">Forget Password?</a>
                    </div>

                    <button type="submit" class="btn-primary">Log In</button>
                </form>

                <div class="divider">Or Continue With</div>

                <button class="btn-google">Google Account</button>
            </div>

            <!-- Sign Up Form -->
            <div id="signup-form" class="form-page">
                <form action="{{ url_for('home.register') }}" method="POST">
                    <div class="user-type-selection">
                        <button type="button" class="user-type-btn" onclick="selectUserType(this, 'youth')">
                            <h3>Youth</h3>
                            <p>Student / Young Adults</p>
                        </button>
                        <button type="button" class="user-type-btn" onclick="selectUserType(this, 'senior')">
                            <h3>Senior</h3>
                            <p>Senior / Mentor</p>
                        </button>
                    </div>
                    <input type="hidden" name="role" id="role-input" value="youth">

                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" name="name" placeholder="Your Full Name" required>
                    </div>

                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" name="email" placeholder="Email Address" required>
                    </div>

                    <div class="form-group password">
                        <label>Password</label>
                        <input type="password" name="password" placeholder="Password" required>
                    </div>

                    <button type="submit" class="btn-primary">Sign Up</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Check hash to determine initial tab
        window.onload = function () {
            if (window.location.hash === '#signup') {
                switchTab('signup');
            }
        }

        function switchTab(tab) {
            // Update tab buttons
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(t => t.classList.remove('active'));
            // Find button that calls this function with specific tab name
            const activeBtn = Array.from(tabs).find(t => t.innerText.toLowerCase().replace(' ', '') === tab || (tab === 'login' && t.innerText === 'Log In') || (tab === 'signup' && t.innerText === 'Sign Up'));
            if (activeBtn) activeBtn.classList.add('active');

            // Update form pages
            const forms = document.querySelectorAll('.form-page');
            forms.forEach(f => f.classList.remove('active'));

            if (tab === 'login') {
                document.getElementById('login-form').classList.add('active');
            } else {
                document.getElementById('signup-form').classList.add('active');
            }
        }

        function selectUserType(button, type) {
            // Remove selected class from all buttons
            const buttons = document.querySelectorAll('.user-type-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));

            // Add selected class to clicked button
            button.classList.add('selected');

            // Update the hidden role input
            document.getElementById('role-input').value = type;
        }
    </script>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>