{% extends "shared/base.html" %}
{% import "shared/macros.html" as macros %}

{% block title %}SkillSwap - My Schedule{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/youth/activities.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
    rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row">
        <!-- Sidebar (Adapted to col-3) -->
        <div class="col-lg-3 mb-4">
            <aside class="sidebar p-4 bg-white rounded shadow-sm">
                <a href="{{ url_for('dashboard.dashboard') }}"
                    class="back-link d-flex align-items-center mb-4 text-decoration-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2" class="me-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Back to Dashboard
                </a>

                <div class="profile-section text-center">
                    <div class="profile-avatar mx-auto mb-3"
                        style="width: 80px; height: 80px; background: #eee; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" stroke-width="1.5">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                        </svg>
                    </div>
                    <h2 class="profile-name h5 fw-bold">{{ session.get('user_name', 'Student') }}</h2>
                    <p class="profile-age text-muted">17 Years Old</p>
                    <p class="profile-points fw-bold text-primary">50 Points</p>
                    <button class="btn btn-primary w-100 mb-4 claim-rewards-btn">Claim Rewards</button>

                    <h3 class="section-title h6 text-start fw-bold text-uppercase text-muted fs-7">Interest</h3>
                    <div class="tags d-flex flex-wrap gap-2">
                        <span class="badge bg-light text-dark border">Traditional Cooking</span>
                        <span class="badge bg-light text-dark border">Gardening</span>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Main Content -->
        <div class="col-lg-9">
            <main class="main-content">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="page-title h3 fw-bold mb-0">My Schedule</h1>
                    <div class="filter-tabs btn-group" role="group">
                        <button class="btn btn-outline-primary active">All</button>
                        <button class="btn btn-outline-primary">Completed</button>
                        <button class="btn btn-outline-primary">Upcoming</button>
                    </div>
                </div>

                <div class="events-list d-flex flex-column gap-3">
                    <!-- Event 1 -->
                    <div class="card event-card border-0 shadow-sm p-3">
                        <div class="d-flex flex-row align-items-center">
                            <div class="event-thumbnail rounded me-3"
                                style="width: 80px; height: 80px; background-color: #ddd;"></div>
                            <div class="event-details flex-grow-1">
                                <h3 class="event-title h5 fw-bold mb-1">Event Title</h3>
                                <p class="event-meta text-muted small mb-2">10 - 12 - 2025 | Mentor</p>
                                <div class="event-stats d-flex gap-3 small text-success fw-bold">
                                    <span>+100 Points</span>
                                    <span>+ 2 hours</span>
                                </div>
                            </div>
                            <div class="event-actions text-end">
                                <span class="badge bg-warning text-dark mb-2 d-block">Upcoming</span>
                                <button class="btn btn-sm btn-outline-danger">Withdraw</button>
                            </div>
                        </div>
                    </div>

                    <!-- Event 2 -->
                    <div class="card event-card border-0 shadow-sm p-3">
                        <div class="d-flex flex-row align-items-center">
                            <div class="event-thumbnail rounded me-3"
                                style="width: 80px; height: 80px; background-color: #ddd;"></div>
                            <div class="event-details flex-grow-1">
                                <h3 class="event-title h5 fw-bold mb-1">Event Title</h3>
                                <p class="event-meta text-muted small mb-2">10 - 10 - 2025 | Mentee</p>
                                <div class="event-stats d-flex gap-3 small text-success fw-bold">
                                    <span>+200 Points</span>
                                    <span>+2 Hours</span>
                                </div>
                            </div>
                            <div class="event-actions text-end">
                                <span class="badge bg-warning text-dark mb-2 d-block">Upcoming</span>
                                <button class="btn btn-sm btn-outline-danger">Withdraw</button>
                            </div>
                        </div>
                    </div>

                    <!-- Event 3 -->
                    <div class="card event-card border-0 shadow-sm p-3">
                        <div class="d-flex flex-row align-items-center">
                            <div class="event-thumbnail rounded me-3"
                                style="width: 80px; height: 80px; background-color: #ddd;"></div>
                            <div class="event-details flex-grow-1">
                                <h3 class="event-title h5 fw-bold mb-1">Event Title</h3>
                                <p class="event-meta text-muted small mb-2">10 - 9 - 2025 | Mentee</p>
                                <div class="event-stats d-flex gap-3 small text-success fw-bold">
                                    <span>+100 Points</span>
                                    <span>+2 Hours</span>
                                </div>
                            </div>
                            <div class="event-actions text-end">
                                <span class="badge bg-success mb-2 d-block">Completed</span>
                                <div class="d-flex gap-2">
                                    <button class="btn btn-sm btn-primary">Submit Photo</button>
                                    <button class="btn btn-sm btn-outline-primary">Feedback</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>

<!-- Modals (Keep as is, just wrapped) -->
<!-- Upload Photo Modal -->
<div class="modal-overlay" id="uploadModal">
    <div class="modal">
        <a href="#" class="back-link">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back
        </a>

        <div class="modal-header">
            <h1 class="modal-title">Upload Photo with Attendees</h1>
            <p class="modal-subtitle">Help us verify that u were here!</p>
        </div>

        <div class="upload-area" id="uploadArea">
            <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z" />
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z" />
            </svg>
            <p class="upload-text">Click to upload photo ID</p>
            <p class="upload-hint">JPG or PNG</p>
            <input type="file" class="file-input" id="fileInput" accept="image/jpeg,image/png">
        </div>

        <div class="preview-area" id="previewArea">
            <img src="" alt="Preview" class="preview-image" id="previewImage">
            <button class="remove-preview" id="removePreview">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <button class="submit-btn" id="submitPhotoBtn">Submit Photo</button>
    </div>
</div>

<!-- Feedback Modal -->
<div class="modal-overlay" id="feedbackModal">
    <div class="modal">
        <a href="#" class="back-link">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Back
        </a>

        <div class="modal-header">
            <h1 class="modal-title">How was your Session?</h1>
            <p class="modal-subtitle">Your feedback help us improve</p>
        </div>

        <div class="star-rating" id="starRating">
            <span class="star" data-value="1">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
            </span>
            <span class="star" data-value="2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
            </span>
            <span class="star" data-value="3">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
            </span>
            <span class="star" data-value="4">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
            </span>
            <span class="star" data-value="5">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                </svg>
            </span>
        </div>

        <textarea class="feedback-textarea" placeholder="Share your thoughts"></textarea>

        <div class="points-display">
            <span class="points-text">+100 Points</span>
        </div>

        <button class="submit-btn" id="submitFeedbackBtn">Submit and Claim Points</button>
    </div>
</div>

<!-- Withdraw Modal -->
<div class="modal-overlay" id="withdrawModal">
    <div class="modal">
        <div class="modal-header">
            <h1 class="modal-title">Withdraw from Event?</h1>
            <p class="modal-subtitle">It is sad to see you leave, would you tell us why</p>
        </div>

        <div class="textarea-wrapper">
            <label class="textarea-label">Reasoning</label>
            <textarea class="reasoning-textarea"></textarea>
        </div>

        <div class="button-group">
            <button class="btn btn-secondary close-withdraw">Change my mind</button>
            <button class="btn btn-primary confirm-withdraw">Withdraw event</button>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/youth/activities.js') }}"></script>
{% endblock %}